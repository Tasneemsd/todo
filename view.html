<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Weekly Planner - View Tasks</title>
  <style>
    body { font-family: Arial; padding: 20px; background-color: #f0f8ff; }
    .day-section { margin-bottom: 20px; padding: 10px; background: #fff; border-radius: 10px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
    .task { margin-left: 15px; padding: 5px; border-left: 3px solid #007bff; }
  </style>
</head>
<body>

  <h1>üìã Weekly Planner - Task Status</h1>
  <div id="taskContainer"></div>

  <script>
    const plannerData = JSON.parse(localStorage.getItem("weekly-planner"));
    const container = document.getElementById("taskContainer");

    if (!plannerData) {
      container.innerHTML = "<p>No tasks found in localStorage.</p>";
    } else {
      Object.keys(plannerData).forEach(date => {
        const tasks = plannerData[date];

        const section = document.createElement("div");
        section.className = "day-section";

        const heading = document.createElement("h3");
        heading.textContent = `üìÖ ${date}`;
        section.appendChild(heading);

        tasks.forEach(task => {
          const taskDiv = document.createElement("div");
          taskDiv.className = "task";
          taskDiv.innerHTML = `
            <strong>${task.text}</strong><br>
            <small><i class="far fa-calendar-alt"></i> ${task.due || '‚Äî'} | 
            <i class="fas fa-tags"></i> ${task.category || 'General'}</small> 
            <strong>[${task.completed ? "‚úîÔ∏è Done" : "‚ùå Pending"}]</strong>`;
          section.appendChild(taskDiv);
        });

        container.appendChild(section);
      });
    }
  </script>

</body>
</html>
